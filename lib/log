root@awokezhou-virtual-machine:/home/share/project/awoke_app/lib# make
make -C libutil
make[1]: Entering directory '/home/share/project/awoke_app/lib/libutil'
echo "-------------prepare--------------"
-------------prepare--------------
if [ ! -d /home/share/project/awoke_app/lib/libutil/obj ];then mkdir obj;fi;
if [ ! -d /home/share/project/awoke_app/lib/libutil/lib ];then mkdir lib;fi;
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_network.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_network.o
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_random.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_random.o
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_queue.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_queue.o
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_queue.h:9:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_queue.c:2:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_queue.h:10:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_queue.c:2:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_worker.o
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:7:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:
/home/share/project/awoke_app/include/awoke_list.h: In function ‘sl_list_reverse’:
/home/share/project/awoke_app/include/awoke_list.h:184:3: warning: implicit declaration of function ‘printf’ [-Wimplicit-function-declaration]
   printf("x\n");
   ^~~~~~
/home/share/project/awoke_app/include/awoke_list.h:184:3: warning: incompatible implicit declaration of built-in function ‘printf’
/home/share/project/awoke_app/include/awoke_list.h:184:3: note: include ‘<stdio.h>’ or provide a declaration of ‘printf’
/home/share/project/awoke_app/include/awoke_list.h:166:6: warning: unused variable ‘size’ [-Wunused-variable]
  int size;
      ^~~~
/home/share/project/awoke_app/include/awoke_list.h: In function ‘sl2_list_reverse’:
/home/share/project/awoke_app/include/awoke_list.h:198:2: warning: incompatible implicit declaration of built-in function ‘printf’
  printf("sl_list_reverse\n");
  ^~~~~~
/home/share/project/awoke_app/include/awoke_list.h:198:2: note: include ‘<stdio.h>’ or provide a declaration of ‘printf’
In file included from /home/share/project/awoke_app/include/awoke_memory.h:8:0,
                 from /home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:10,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:
/home/share/project/awoke_app/include/awoke_macros.h: At top level:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:10:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
In file included from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:0:
/home/share/project/awoke_app/lib/libutil/include/awoke_worker.h: At top level:
/home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:32:0: warning: "worker_create" redefined
 #define worker_create(id, attr, handler, context)  pthread_create(id, attr, handler, context)
 
/home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:20:0: note: this is the location of the previous definition
 #define worker_create pthread_create
 
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c: In function ‘worker_condition_init’:
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:22:26: warning: passing argument 1 of ‘pthread_mutex_init’ from incompatible pointer type [-Wincompatible-pointer-types]
  ret = _worker_cond_init(&wk->cond, NULL);
                          ^
/home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:25:57: note: in definition of macro ‘_worker_cond_init’
 #define _worker_cond_init(cond, val) pthread_mutex_init(cond, val)
                                                         ^~~~
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:4:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:
/usr/include/pthread.h:750:12: note: expected ‘pthread_mutex_t * {aka union <anonymous> *}’ but argument is of type ‘pthread_cond_t * {aka union <anonymous> *}’
 extern int pthread_mutex_init (pthread_mutex_t *__mutex,
            ^~~~~~~~~~~~~~~~~~
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c: In function ‘worker_clean’:
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:44:26: warning: passing argument 1 of ‘awoke_event_loop_clean’ from incompatible pointer type [-Wincompatible-pointer-types]
   awoke_event_loop_clean(&p->evl);
                          ^
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:8:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:
/home/share/project/awoke_app/lib/libevent/include/awoke_event.h:108:6: note: expected ‘awoke_event_loop ** {aka struct _awoke_event_loop **}’ but argument is of type ‘awoke_event ** {aka struct _awoke_event **}’
 void awoke_event_loop_clean(awoke_event_loop **loop);
      ^~~~~~~~~~~~~~~~~~~~~~
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c: In function ‘worker_run’:
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:154:4: warning: implicit declaration of function ‘usleep’; did you mean ‘fseek’? [-Wimplicit-function-declaration]
    usleep(1000*wk->tick);
    ^~~~~~
    fseek
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:156:4: warning: implicit declaration of function ‘sleep’ [-Wimplicit-function-declaration]
    sleep(wk->tick);
    ^~~~~
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:137:11: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
  err_type ret;
           ^~~
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c: In function ‘awoke_worker_create’:
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:194:11: warning: assignment from incompatible pointer type [-Wincompatible-pointer-types]
   wk->evl = awoke_event_loop_create(8);
           ^
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:199:36: warning: passing argument 1 of ‘awoke_event_channel_create’ from incompatible pointer type [-Wincompatible-pointer-types]
   ret = awoke_event_channel_create(wk->evl,
                                    ^~
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:8:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:
/home/share/project/awoke_app/lib/libevent/include/awoke_event.h:106:10: note: expected ‘awoke_event_loop * {aka struct _awoke_event_loop *}’ but argument is of type ‘awoke_event * {aka struct _awoke_event *}’
 err_type awoke_event_channel_create(awoke_event_loop *loop,
          ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:0:
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:230:42: warning: passing argument 3 of ‘pthread_create’ from incompatible pointer type [-Wincompatible-pointer-types]
   goto err;
                                          ^
/home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:32:77: note: in definition of macro ‘worker_create’
 #define worker_create(id, attr, handler, context)  pthread_create(id, attr, handler, context)
                                                                             ^~~~~~~
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:4:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:
/usr/include/pthread.h:234:12: note: expected ‘void * (*)(void *)’ but argument is of type ‘err_type (*)() {aka enum <anonymous> (*)()}’
 extern int pthread_create (pthread_t *__restrict __newthread,
            ^~~~~~~~~~~~~~
In file included from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:0:
/home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:232:42: warning: passing argument 3 of ‘pthread_create’ from incompatible pointer type [-Wincompatible-pointer-types]
 
                                          ^
/home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:32:77: note: in definition of macro ‘worker_create’
 #define worker_create(id, attr, handler, context)  pthread_create(id, attr, handler, context)
                                                                             ^~~~~~~
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_worker.h:4:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_worker.c:2:
/usr/include/pthread.h:234:12: note: expected ‘void * (*)(void *)’ but argument is of type ‘void (*)(void *)’
 extern int pthread_create (pthread_t *__restrict __newthread,
            ^~~~~~~~~~~~~~
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_randm.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_randm.o
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_socket.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_socket.o
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_socket.h:18:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_socket.c:3:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_socket.h:19:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_socket.c:3:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
/home/share/project/awoke_app/lib/libutil/src/awoke_socket.c: In function ‘awoke_socket_accept_unix’:
/home/share/project/awoke_app/lib/libutil/src/awoke_socket.c:85:32: warning: passing argument 2 of ‘accept’ from incompatible pointer type [-Wincompatible-pointer-types]
  remote_fd = accept(server_fd, &sock_addr, &socket_size);
                                ^
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_socket.h:4:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_socket.c:3:
/usr/include/x86_64-linux-gnu/sys/socket.h:232:12: note: expected ‘struct sockaddr * restrict’ but argument is of type ‘struct sockaddr_un *’
 extern int accept (int __fd, __SOCKADDR_ARG __addr,
            ^~~~~~
/home/share/project/awoke_app/lib/libutil/src/awoke_socket.c: In function ‘awoke_socket_server’:
/home/share/project/awoke_app/lib/libutil/src/awoke_socket.c:147:3: warning: implicit declaration of function ‘unlink’; did you mean ‘unix’? [-Wimplicit-function-declaration]
   unlink(addr);
   ^~~~~~
   unix
/home/share/project/awoke_app/lib/libutil/src/awoke_socket.c:175:3: warning: implicit declaration of function ‘close’; did you mean ‘pclose’? [-Wimplicit-function-declaration]
   close(server_fd);
   ^~~~~
   pclose
/home/share/project/awoke_app/lib/libutil/src/awoke_socket.c: In function ‘awoke_unix_message_send’:
/home/share/project/awoke_app/lib/libutil/src/awoke_socket.c:213:7: warning: implicit declaration of function ‘write’; did you mean ‘fwrite’? [-Wimplicit-function-declaration]
  rc = write(fd, buff, len);
       ^~~~~
       fwrite
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_log.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_log.o
/home/share/project/awoke_app/lib/libutil/src/awoke_log.c:42:13: warning: ‘log_mode_test’ defined but not used [-Wunused-function]
 static bool log_mode_test()
             ^~~~~~~~~~~~~
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_package.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_package.o
/home/share/project/awoke_app/lib/libutil/src/awoke_package.c: In function ‘awoke_package_header’:
/home/share/project/awoke_app/lib/libutil/src/awoke_package.c:10:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_string.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_string.o
In file included from /home/share/project/awoke_app/include/awoke_memory.h:8:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_string.c:3:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/libutil/src/awoke_string.c:3:0:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
/home/share/project/awoke_app/lib/libutil/src/awoke_string.c: In function ‘awoke_string_to_hex’:
/home/share/project/awoke_app/lib/libutil/src/awoke_string.c:139:5: warning: this ‘if’ clause does not guard... [-Wmisleading-indentation]
     if (!hex || !string || hex_len<=0)
     ^~
/home/share/project/awoke_app/lib/libutil/src/awoke_string.c:142:2: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the ‘if’
  if(0 != (hex_len%2))
  ^~
/home/share/project/awoke_app/lib/libutil/src/awoke_string.c: In function ‘awoke_string_str2bcd’:
/home/share/project/awoke_app/lib/libutil/src/awoke_string.c:185:6: warning: unused variable ‘i’ [-Wunused-variable]
  int i;
      ^
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/lib/libevent/include    -fPIC -c /home/share/project/awoke_app/lib/libutil/src/awoke_waitev.c -o /home/share/project/awoke_app/lib/libutil/obj/awoke_waitev.o
In file included from /home/share/project/awoke_app/include/awoke_waitev.h:7:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_waitev.c:3:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/include/awoke_waitev.h:8:0,
                 from /home/share/project/awoke_app/lib/libutil/src/awoke_waitev.c:3:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
/home/share/project/awoke_app/lib/libutil/src/awoke_waitev.c: In function ‘ev_should_stop’:
/home/share/project/awoke_app/lib/libutil/src/awoke_waitev.c:15:3: warning: implicit declaration of function ‘sleep’ [-Wimplicit-function-declaration]
   sleep(ev->tick);
   ^~~~~
/home/share/project/awoke_app/lib/libutil/src/awoke_waitev.c: In function ‘awoke_waitev_create’:
/home/share/project/awoke_app/lib/libutil/src/awoke_waitev.c:55:15: warning: assignment from incompatible pointer type [-Wincompatible-pointer-types]
  ev->run_once = run_once;
               ^
/home/share/project/awoke_app/lib/libutil/src/awoke_waitev.c:62:15: warning: assignment from incompatible pointer type [-Wincompatible-pointer-types]
   ev->stop_fn = stop_fn;
               ^
echo "-------------build--------------"
-------------build--------------
gcc -shared -fPIC -Wl,--whole-archive,-soname,/home/share/project/awoke_app/lib/libutil/lib/libutil.so -O -Wall  -I/home/share/project/awoke_app/include -o /home/share/project/awoke_app/lib/libutil/lib/libutil.so /home/share/project/awoke_app/lib/libutil/obj/awoke_network.o /home/share/project/awoke_app/lib/libutil/obj/awoke_random.o /home/share/project/awoke_app/lib/libutil/obj/awoke_queue.o /home/share/project/awoke_app/lib/libutil/obj/awoke_worker.o /home/share/project/awoke_app/lib/libutil/obj/awoke_randm.o /home/share/project/awoke_app/lib/libutil/obj/awoke_socket.o /home/share/project/awoke_app/lib/libutil/obj/awoke_log.o /home/share/project/awoke_app/lib/libutil/obj/awoke_package.o /home/share/project/awoke_app/lib/libutil/obj/awoke_string.o /home/share/project/awoke_app/lib/libutil/obj/awoke_waitev.o -L/home/share/project/awoke_app/lib -lpthread -Wl,--no-whole-archive 
echo "-------------install--------------"
-------------install--------------
cp /home/share/project/awoke_app/lib/libutil/lib/libutil.so /home/share/project/awoke_app/lib
make[1]: Leaving directory '/home/share/project/awoke_app/lib/libutil'
make -C librtmsg
make[1]: Entering directory '/home/share/project/awoke_app/lib/librtmsg'
echo "-------------prepare--------------"
-------------prepare--------------
if [ ! -d /home/share/project/awoke_app/lib/librtmsg/obj ];then mkdir obj;fi;
if [ ! -d /home/share/project/awoke_app/lib/librtmsg/lib ];then mkdir lib;fi;
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I. -I/home/share/project/awoke_app/lib/librtmsg/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/include -fPIC -c /home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c -o /home/share/project/awoke_app/lib/librtmsg/obj/awoke_rtmsg.o
In file included from /home/share/project/awoke_app/include/awoke_memory.h:8:0,
                 from /home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:14:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:14:0:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c: In function ‘rt_message_send’:
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:62:7: warning: implicit declaration of function ‘write’; did you mean ‘fwrite’? [-Wimplicit-function-declaration]
  rc = write(fd, buff, total_size);
       ^~~~~
       fwrite
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c: In function ‘rt_message_recv’:
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:118:7: warning: implicit declaration of function ‘read’; did you mean ‘fread’? [-Wimplicit-function-declaration]
  rc = read(fd, header, sizeof(rtmsg_header));
       ^~~~
       fread
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c: In function ‘rt_message_init’:
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:224:3: warning: implicit declaration of function ‘close’; did you mean ‘pclose’? [-Wimplicit-function-declaration]
   close(fd);
   ^~~~~
   pclose
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c: In function ‘awoke_rtmsg_recv’:
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:253:37: warning: passing argument 2 of ‘rt_message_recv’ from incompatible pointer type [-Wincompatible-pointer-types]
  return rt_message_recv(handle->fd, header, NULL);
                                     ^~~~~~
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:95:10: note: expected ‘rtmsg_header ** {aka struct _rtmsg_header **}’ but argument is of type ‘rtmsg_header * {aka struct _rtmsg_header *}’
 err_type rt_message_recv(int fd, rtmsg_header **buff, uint32_t *timeout)
          ^~~~~~~~~~~~~~~
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c: In function ‘awoke_rtmsg_recv_timeout’:
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:260:37: warning: passing argument 2 of ‘rt_message_recv’ from incompatible pointer type [-Wincompatible-pointer-types]
  return rt_message_recv(handle->fd, header, &timeout);
                                     ^~~~~~
/home/share/project/awoke_app/lib/librtmsg/src/awoke_rtmsg.c:95:10: note: expected ‘rtmsg_header ** {aka struct _rtmsg_header **}’ but argument is of type ‘rtmsg_header * {aka struct _rtmsg_header *}’
 err_type rt_message_recv(int fd, rtmsg_header **buff, uint32_t *timeout)
          ^~~~~~~~~~~~~~~
echo "-------------build--------------"
-------------build--------------
gcc -shared -fPIC -Wl,--whole-archive,-soname,/home/share/project/awoke_app/lib/librtmsg/lib/librtmsg.so -O -Wall  -I/home/share/project/awoke_app/include -o /home/share/project/awoke_app/lib/librtmsg/lib/librtmsg.so /home/share/project/awoke_app/lib/librtmsg/obj/awoke_rtmsg.o -Wl,--no-whole-archive -lutil
echo "-------------install--------------"
-------------install--------------
cp /home/share/project/awoke_app/lib/librtmsg/lib/librtmsg.so /home/share/project/awoke_app/lib
make[1]: Leaving directory '/home/share/project/awoke_app/lib/librtmsg'
make -C libevent
make[1]: Entering directory '/home/share/project/awoke_app/lib/libevent'
echo "-------------prepare--------------"
-------------prepare--------------
if [ ! -d /home/share/project/awoke_app/lib/libevent/obj ];then mkdir obj;fi;
if [ ! -d /home/share/project/awoke_app/lib/libevent/lib ];then mkdir lib;fi;
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I. -I/home/share/project/awoke_app/lib/libevent/include -I/home/share/project/awoke_app/lib/libutil/include    -I/home/share/project/awoke_app/include -fPIC -c /home/share/project/awoke_app/lib/libevent/src/awoke_event.c -o /home/share/project/awoke_app/lib/libevent/obj/awoke_event.o
In file included from /home/share/project/awoke_app/lib/libevent/include/awoke_event.h:6:0,
                 from /home/share/project/awoke_app/lib/libevent/src/awoke_event.c:1:
/home/share/project/awoke_app/include/awoke_list.h: In function ‘sl_list_reverse’:
/home/share/project/awoke_app/include/awoke_list.h:184:3: warning: implicit declaration of function ‘printf’ [-Wimplicit-function-declaration]
   printf("x\n");
   ^~~~~~
/home/share/project/awoke_app/include/awoke_list.h:184:3: warning: incompatible implicit declaration of built-in function ‘printf’
/home/share/project/awoke_app/include/awoke_list.h:184:3: note: include ‘<stdio.h>’ or provide a declaration of ‘printf’
/home/share/project/awoke_app/include/awoke_list.h:166:6: warning: unused variable ‘size’ [-Wunused-variable]
  int size;
      ^~~~
/home/share/project/awoke_app/include/awoke_list.h: In function ‘sl2_list_reverse’:
/home/share/project/awoke_app/include/awoke_list.h:198:2: warning: incompatible implicit declaration of built-in function ‘printf’
  printf("sl_list_reverse\n");
  ^~~~~~
/home/share/project/awoke_app/include/awoke_list.h:198:2: note: include ‘<stdio.h>’ or provide a declaration of ‘printf’
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_socket.h:18:0,
                 from /home/share/project/awoke_app/lib/libevent/src/awoke_event.c:4:
/home/share/project/awoke_app/include/awoke_macros.h: At top level:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/libutil/include/awoke_socket.h:19:0,
                 from /home/share/project/awoke_app/lib/libevent/src/awoke_event.c:4:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
/home/share/project/awoke_app/lib/libevent/src/awoke_event.c: In function ‘awoke_event_clean’:
/home/share/project/awoke_app/lib/libevent/src/awoke_event.c:19:9: warning: implicit declaration of function ‘close’; did you mean ‘pclose’? [-Wimplicit-function-declaration]
         close(pevent->fd);
         ^~~~~
         pclose
/home/share/project/awoke_app/lib/libevent/src/awoke_event.c: In function ‘awoke_event_channel_create’:
/home/share/project/awoke_app/lib/libevent/src/awoke_event.c:315:7: warning: implicit declaration of function ‘pipe’; did you mean ‘popen’? [-Wimplicit-function-declaration]
  rc = pipe(fd);
       ^~~~
       popen
echo "-------------build--------------"
-------------build--------------
gcc -shared -fPIC -Wl,--whole-archive,-soname,/home/share/project/awoke_app/lib/libevent/lib/libevent.so -O -Wall  -I/home/share/project/awoke_app/include -o /home/share/project/awoke_app/lib/libevent/lib/libevent.so /home/share/project/awoke_app/lib/libevent/obj/awoke_event.o -Wl,--no-whole-archive -lutil
echo "-------------install--------------"
-------------install--------------
cp /home/share/project/awoke_app/lib/libevent/lib/libevent.so /home/share/project/awoke_app/lib
make[1]: Leaving directory '/home/share/project/awoke_app/lib/libevent'
make -C libsecurity
make[1]: Entering directory '/home/share/project/awoke_app/lib/libsecurity'
echo "-------------prepare--------------"
-------------prepare--------------
if [ ! -d /home/share/project/awoke_app/lib/libsecurity/obj ];then mkdir obj;fi;
if [ ! -d /home/share/project/awoke_app/lib/libsecurity/lib ];then mkdir lib;fi;
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I. -I/home/share/project/awoke_app/lib/libsecurity/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/include -fPIC -c /home/share/project/awoke_app/lib/libsecurity/src/sec_padding.c -o /home/share/project/awoke_app/lib/libsecurity/obj/sec_padding.o
In file included from /home/share/project/awoke_app/include/awoke_memory.h:8:0,
                 from /home/share/project/awoke_app/lib/libsecurity/include/sec_padding.h:7,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_padding.c:3:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_padding.h:7:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_padding.c:3:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_padding.c: In function ‘sec_string_padding’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_padding.c:24:15: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  len = strlen(s);
               ^
In file included from /home/share/project/awoke_app/include/awoke_memory.h:4:0,
                 from /home/share/project/awoke_app/lib/libsecurity/include/sec_padding.h:7,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_padding.c:3:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I. -I/home/share/project/awoke_app/lib/libsecurity/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/include -fPIC -c /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c -o /home/share/project/awoke_app/lib/libsecurity/obj/sec_aes.o
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:38:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/include/awoke_macros.h:29:0: warning: "offsetof" redefined
 #define offsetof(TYPE, MEMBER) ((size_t) &((TYPE *)0)->MEMBER)
 
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:32:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/usr/lib/gcc/x86_64-linux-gnu/7/include/stddef.h:417:0: note: this is the location of the previous definition
 #define offsetof(TYPE, MEMBER) __builtin_offsetof (TYPE, MEMBER)
 
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:38:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:39:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘awoke_string_padding’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:597:15: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  len = strlen(s);
               ^
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘aes_cbc_enc_string’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:654:15: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  len = strlen(key);
               ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:657:15: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  len = strlen(inv);
               ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:678:41: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("key:%s, len:%d\n", key, strlen(key));
                                         ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:678:23: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("key:%s, len:%d\n", key, strlen(key));
                      ~^          ~~~~~~~~~~~
                      %ld
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:38:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:679:23: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  buf_dump(key, strlen(key));
                       ^
/home/share/project/awoke_app/include/awoke_macros.h:43:19: note: in definition of macro ‘buf_dump’
   for (__i=0; __i<len; __i++) {\
                   ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:681:51: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("safe_key:%s, len:%d\n", safe_key, strlen(safe_key));
                                                   ^~~~~~~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:681:28: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("safe_key:%s, len:%d\n", safe_key, strlen(safe_key));
                           ~^               ~~~~~~~~~~~~~~~~
                           %ld
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:685:41: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("inv:%s, len:%d\n", inv, strlen(inv));
                                         ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:685:23: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("inv:%s, len:%d\n", inv, strlen(inv));
                      ~^          ~~~~~~~~~~~
                      %ld
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:38:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:686:23: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  buf_dump(inv, strlen(inv));
                       ^
/home/share/project/awoke_app/include/awoke_macros.h:43:19: note: in definition of macro ‘buf_dump’
   for (__i=0; __i<len; __i++) {\
                   ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:688:51: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("safe_inv:%s, len:%d\n", safe_inv, strlen(safe_inv));
                                                   ^~~~~~~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:688:28: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("safe_inv:%s, len:%d\n", safe_inv, strlen(safe_inv));
                           ~^               ~~~~~~~~~~~~~~~~
                           %ld
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:692:43: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("plain:%s, len:%d\n", str, strlen(str));
                                           ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:692:25: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("plain:%s, len:%d\n", str, strlen(str));
                        ~^          ~~~~~~~~~~~
                        %ld
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:38:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:693:23: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  buf_dump(str, strlen(str));
                       ^
/home/share/project/awoke_app/include/awoke_macros.h:43:19: note: in definition of macro ‘buf_dump’
   for (__i=0; __i<len; __i++) {\
                   ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:695:53: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("safe plain:%s, len:%d\n", safe_str, strlen(safe_str));
                                                     ^~~~~~~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:695:30: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("safe plain:%s, len:%d\n", safe_str, strlen(safe_str));
                             ~^               ~~~~~~~~~~~~~~~~
                             %ld
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:703:49: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("cipher:%s, len:%d\n", safe_enc, strlen(safe_enc));
                                                 ^~~~~~~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:703:26: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("cipher:%s, len:%d\n", safe_enc, strlen(safe_enc));
                         ~^               ~~~~~~~~~~~~~~~~
                         %ld
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘aes_cbc_dec_string’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:739:15: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  len = strlen(key);
               ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:742:15: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  len = strlen(inv);
               ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:758:32: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  safe_dec = mem_alloc_z(strlen(str));
                                ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:760:44: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("cipher:%s, len:%d\n", str, strlen(str));
                                            ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:760:26: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("cipher:%s, len:%d\n", str, strlen(str));
                         ~^          ~~~~~~~~~~~
                         %ld
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:38:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:761:23: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  buf_dump(str, strlen(str));
                       ^
/home/share/project/awoke_app/include/awoke_macros.h:43:19: note: in definition of macro ‘buf_dump’
   for (__i=0; __i<len; __i++) {\
                   ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:765:58: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  mbedtls_aes_crypt_cbc(&ctx, MBEDTLS_AES_DECRYPT, strlen(str),
                                                          ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:768:48: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  printf("plain:%s, len:%d\n", safe_dec, strlen(safe_dec));
                                                ^~~~~~~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:768:25: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
  printf("plain:%s, len:%d\n", safe_dec, strlen(safe_dec));
                        ~^               ~~~~~~~~~~~~~~~~
                        %ld
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:38:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:769:28: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness [-Wpointer-sign]
  buf_dump(safe_dec, strlen(safe_dec));
                            ^
/home/share/project/awoke_app/include/awoke_macros.h:43:19: note: in definition of macro ‘buf_dump’
   for (__i=0; __i<len; __i++) {\
                   ^~~
In file included from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:3:0:
/usr/include/string.h:384:15: note: expected ‘const char *’ but argument is of type ‘_uint8_t * {aka unsigned char *}’
 extern size_t strlen (const char *__s)
               ^~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:730:6: warning: unused variable ‘safe_str_len’ [-Wunused-variable]
  int safe_str_len;
      ^~~~~~~~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘aes_cbc_enc_byte’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:799:11: warning: unused variable ‘safe_out’ [-Wunused-variable]
  uint8_t *safe_out;
           ^~~~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:792:9: warning: unused variable ‘len’ [-Wunused-variable]
     int len;
         ^~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘aes_cbc_dec_byte’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:879:9: warning: unused variable ‘len’ [-Wunused-variable]
     int len;
         ^~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘aes_cbc_enc_string’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:720:5: warning: ‘safe_enc’ may be used uninitialized in this function [-Wmaybe-uninitialized]
  if (safe_enc) mem_free(safe_enc);
     ^
In file included from /home/share/project/awoke_app/lib/libsecurity/include/sec_aes.h:39:0,
                 from /home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:25:
/home/share/project/awoke_app/include/awoke_memory.h:47:5: warning: ‘safe_inv’ may be used uninitialized in this function [-Wmaybe-uninitialized]
     free(ptr);
     ^~~~~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:646:11: note: ‘safe_inv’ was declared here
  uint8_t *safe_inv;
           ^~~~~~~~
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘aes_cbc_dec_string’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:780:5: warning: ‘safe_dec’ may be used uninitialized in this function [-Wmaybe-uninitialized]
  if (safe_dec) mem_free(safe_dec);
     ^
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘aes_cbc_enc_byte’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:861:5: warning: ‘safe_buf’ may be used uninitialized in this function [-Wmaybe-uninitialized]
  if (safe_buf) mem_free(safe_buf);
     ^
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c: In function ‘aes_cbc_dec_byte’:
/home/share/project/awoke_app/lib/libsecurity/src/sec_aes.c:932:5: warning: ‘safe_out’ may be used uninitialized in this function [-Wmaybe-uninitialized]
  if (safe_out) mem_free(safe_out);
     ^
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I. -I/home/share/project/awoke_app/lib/libsecurity/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/include -fPIC -c /home/share/project/awoke_app/lib/libsecurity/src/sec_base64.c -o /home/share/project/awoke_app/lib/libsecurity/obj/sec_base64.o
echo "-------------build--------------"
-------------build--------------
gcc -shared -fPIC -Wl,--whole-archive,-soname,/home/share/project/awoke_app/lib/libsecurity/lib/libsecurity.so -O -Wall  -I/home/share/project/awoke_app/include -o /home/share/project/awoke_app/lib/libsecurity/lib/libsecurity.so /home/share/project/awoke_app/lib/libsecurity/obj/sec_padding.o /home/share/project/awoke_app/lib/libsecurity/obj/sec_aes.o /home/share/project/awoke_app/lib/libsecurity/obj/sec_base64.o -Wl,--no-whole-archive -lutil
echo "-------------install--------------"
-------------install--------------
cp /home/share/project/awoke_app/lib/libsecurity/lib/libsecurity.so /home/share/project/awoke_app/lib
make[1]: Leaving directory '/home/share/project/awoke_app/lib/libsecurity'
make -C libpattern
make[1]: Entering directory '/home/share/project/awoke_app/lib/libpattern'
echo "-------------prepare--------------"
-------------prepare--------------
if [ ! -d /home/share/project/awoke_app/lib/libpattern/obj ];then mkdir obj;fi;
if [ ! -d /home/share/project/awoke_app/lib/libpattern/lib ];then mkdir lib;fi;
echo "-------------compile--------------"
-------------compile--------------
gcc -O -Wall  -I/home/share/project/awoke_app/include -I. -I/home/share/project/awoke_app/lib/libpattern/include -I/home/share/project/awoke_app/lib/libutil/include -I/home/share/project/awoke_app/include -fPIC -c /home/share/project/awoke_app/lib/libpattern/src/condition_action.c -o /home/share/project/awoke_app/lib/libpattern/obj/condition_action.o
In file included from /home/share/project/awoke_app/lib/libpattern/include/condition_action.h:7:0,
                 from /home/share/project/awoke_app/lib/libpattern/src/condition_action.c:2:
/home/share/project/awoke_app/include/awoke_list.h: In function ‘sl_list_reverse’:
/home/share/project/awoke_app/include/awoke_list.h:184:3: warning: implicit declaration of function ‘printf’ [-Wimplicit-function-declaration]
   printf("x\n");
   ^~~~~~
/home/share/project/awoke_app/include/awoke_list.h:184:3: warning: incompatible implicit declaration of built-in function ‘printf’
/home/share/project/awoke_app/include/awoke_list.h:184:3: note: include ‘<stdio.h>’ or provide a declaration of ‘printf’
/home/share/project/awoke_app/include/awoke_list.h:166:6: warning: unused variable ‘size’ [-Wunused-variable]
  int size;
      ^~~~
/home/share/project/awoke_app/include/awoke_list.h: In function ‘sl2_list_reverse’:
/home/share/project/awoke_app/include/awoke_list.h:198:2: warning: incompatible implicit declaration of built-in function ‘printf’
  printf("sl_list_reverse\n");
  ^~~~~~
/home/share/project/awoke_app/include/awoke_list.h:198:2: note: include ‘<stdio.h>’ or provide a declaration of ‘printf’
In file included from /home/share/project/awoke_app/include/awoke_memory.h:8:0,
                 from /home/share/project/awoke_app/lib/libpattern/include/condition_action.h:9,
                 from /home/share/project/awoke_app/lib/libpattern/src/condition_action.c:2:
/home/share/project/awoke_app/include/awoke_macros.h: At top level:
/home/share/project/awoke_app/include/awoke_macros.h:72:0: warning: "array_size" redefined
 #define array_size(array) ((sizeof(array))/(sizeof(array[0])))
 
/home/share/project/awoke_app/include/awoke_macros.h:34:0: note: this is the location of the previous definition
 #define array_size(array) (sizeof(array)/sizeof(array[0]))
 
In file included from /home/share/project/awoke_app/lib/libpattern/include/condition_action.h:9:0,
                 from /home/share/project/awoke_app/lib/libpattern/src/condition_action.c:2:
/home/share/project/awoke_app/include/awoke_memory.h: In function ‘mem_mk_ptr’:
/home/share/project/awoke_app/include/awoke_memory.h:62:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  mem_ptr_t ret = {str, 0};
                   ^~~
/home/share/project/awoke_app/lib/libpattern/src/condition_action.c: In function ‘condition_action_add’:
/home/share/project/awoke_app/lib/libpattern/src/condition_action.c:64:5: warning: ‘add’ may be used uninitialized in this function [-Wmaybe-uninitialized]
  if (add)
     ^
echo "-------------build--------------"
-------------build--------------
gcc -shared -fPIC -Wl,--whole-archive,-soname,/home/share/project/awoke_app/lib/libpattern/lib/libpattern.so -O -Wall  -I/home/share/project/awoke_app/include -o /home/share/project/awoke_app/lib/libpattern/lib/libpattern.so /home/share/project/awoke_app/lib/libpattern/obj/condition_action.o -Wl,--no-whole-archive -lutil
echo "-------------install--------------"
-------------install--------------
cp /home/share/project/awoke_app/lib/libpattern/lib/libpattern.so /home/share/project/awoke_app/lib
make[1]: Leaving directory '/home/share/project/awoke_app/lib/libpattern'
root@awokezhou-virtual-machine:/home/share/project/awoke_app/lib# 

